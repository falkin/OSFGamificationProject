<!DOCTYPE html>
<html>
<head>
<meta charset=utf-8 />
<title>OSF Gamification Project</title>
  <link rel="stylesheet" href="css/bootstrap.css">
  <link rel="stylesheet" href="css/style.css">
  <meta name="author" content="OSF group 1" />
  
</head>
<body>

<!-- #####===== Nav bar =====#####-->
  <script type="text/x-handlebars">
    <div class=navbar>
      <div class="navbar-inner">
        <a class="brand" href=#>OSF Gamification</a>
        <ul class=nav>
          <li>{{#linkTo 'posts'}}Posts{{/linkTo}}</li>
          <li>{{#linkTo 'about'}}About{{/linkTo}}</li>
          <li>{{#linkTo 'persons'}}Profile{{/linkTo}}</li>
        </ul>
        <form class="navbar-form pull-right">
          <button {{action 'createUser'}}>Sign in</button>
        </form>
      </div>
    </div>
    {{outlet}}
  </script>

<!-- #####===== Posts: content under /data/posts/index.html =====#####-->
  <script type="text/x-handlebars" id="posts">
    <div class="container-fluid">
      <div class="row-fluid">
        <div class="span3">
          <table class="table">
            <thead>
              <tr><th>Recent posts</th></tr>
            </thead>
            {{#each model}}
            <tr><td>
                {{#linkTo 'post' this}}{{title}} <small class="muted">by {{author.name}}</small>{{/linkTo}}
            </td></tr>
            {{/each}}
          </table>
        </div>
        <div class="span9">
          {{outlet}}
        </div>
    </div>
  </script>

  <script type="text/x-handlebars" id="posts/index">
    <p class="text-warning">Please select a post</p>
  </script>

  <script type="text/x-handlebars" id="post">
    {{#if isEditing}}
      {{partial 'post/edit'}}
      <button {{action 'doneEditing'}}>Done</button>
    {{else}}
      <button {{action 'edit'}}>Edit</button>
    {{/if}}
    <h1>{{title}}</h1>
    {{#if author.isLoaded}}
    <h2>by {{author.name}} <small class="muted">({{date publishedAt}})</small></h2>
	{{/if}}
    <hr>
    <div class="intro">
      {{intro}}
    </div>

    <div class="below-the-fold">
      {{md extended}}
    </div>
  </script>

  <script type="text/x-handlebars" id="post/_edit">
    <p>{{view Ember.TextField valueBinding='title'}}</p>
    <p>{{view Ember.TextArea valueBinding='intro'}}</p>
    <p>{{view Ember.TextArea valueBinding='extended'}}</p>
  </script>

<!-- #####===== About page =====#####-->
  <script type="text/x-handlebars" id="about">
    <div class="about">
      <p>
       Lorem ipsum dolor sit amet, consectetur adipiscing elit. Mauris pharetra feugiat iaculis. Sed vulputate commodo sapien.
       Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nulla vulputate ornare feugiat. Nunc dignissim, odio non congue
       laoreet, elit dolor tempor lectus, sit amet venenatis urna neque sed purus. Sed ac urna at nulla varius gravida.
       Vestibulum porta luctus malesuada.
      </p>
      <p>hola hola <a href="#">this is a link</a>!</p>
    </div>
  </script>
  
  <!-- #####===== Profile Person page =====#####-->
  <script type="text/x-handlebars" id="persons">
    <div class="persons">
      <div class="span6">
          <table class="table">
            <thead>
              <tr><th>Persons</th></tr>
            </thead>
            {{#each model}}
            <tr><td>
              {{#linkTo 'person' this}} <p>{{name}} </p> {{/linkTo}}
            </td></tr>
            {{/each}}
          </table>
        </div>
    </div>
    <div class="span9">
          {{outlet}}
    </div>
  </script>
  
  <script type="text/x-handlebars" id="person">
    <div class="person">
     <div class="span 12">
     	<h1>{{name}}</h1>
		<h2>points: {{user.points}}</h2>
		<hr>
		<ul>
			{{#each posts}}
			<li> {{#linkTo 'posts'}} {{title}} <small class="muted"> ({{date publishedAt}}) </small> {{/linkTo}}</li>
			{{/each}}
		</ul>
     </div>
    </div>
  </script>

<!-- #####===== Scripts loaded @ the end: the page is loaded even if there is a problem =====#####-->
  <script src="js/libs/jquery-1.9.1.js"></script>
  <script src="js/libs/handlebars-1.0.0-rc.3.js"></script>
  <script src="js/libs/ember-1.0.0-rc.1.js"></script>
  <script src="js/libs/ember-data.js"></script>
  <script src="js/libs/moment.js"></script>
  <script src="js/libs/showdown.js"></script>
  <script src="js/app.js"></script>

</body>
</html>